<!DOCTYPE html><html>

<head>
<meta charset="utf-8">
<title>Lab06_D--CircuitPlayground</title>
<style type="text/css">
body {
  font-family: Helvetica, arial, sans-serif;
  font-size: 14px;
  line-height: 1.6;
  padding-top: 10px;
  padding-bottom: 10px;
  background-color: white;
  padding: 30px; }

pre,code{font:12px Monaco,"Courier New","DejaVu Sans Mono","Bitstream Vera Sans Mono",monospace;}


body > *:first-child {
  margin-top: 0 !important; }
body > *:last-child {
  margin-bottom: 0 !important; }

a {
  color: #4183C4; }
a.absent {
  color: #cc0000; }
a.anchor {
  display: block;
  padding-left: 30px;
  margin-left: -30px;
  cursor: pointer;
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0; }

h1, h2, h3, h4, h5, h6 {
  margin: 20px 0 10px;
  padding: 0;
  font-weight: bold;
  -webkit-font-smoothing: antialiased;
  cursor: text;
  position: relative; }

h1:hover a.anchor, h2:hover a.anchor, h3:hover a.anchor, h4:hover a.anchor, h5:hover a.anchor, h6:hover a.anchor {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA09pVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoMTMuMCAyMDEyMDMwNS5tLjQxNSAyMDEyLzAzLzA1OjIxOjAwOjAwKSAgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OUM2NjlDQjI4ODBGMTFFMTg1ODlEODNERDJBRjUwQTQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OUM2NjlDQjM4ODBGMTFFMTg1ODlEODNERDJBRjUwQTQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5QzY2OUNCMDg4MEYxMUUxODU4OUQ4M0REMkFGNTBBNCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5QzY2OUNCMTg4MEYxMUUxODU4OUQ4M0REMkFGNTBBNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PsQhXeAAAABfSURBVHjaYvz//z8DJYCRUgMYQAbAMBQIAvEqkBQWXI6sHqwHiwG70TTBxGaiWwjCTGgOUgJiF1J8wMRAIUA34B4Q76HUBelAfJYSA0CuMIEaRP8wGIkGMA54bgQIMACAmkXJi0hKJQAAAABJRU5ErkJggg==) no-repeat 10px center;
  text-decoration: none; }

h1 tt, h1 code {
  font-size: inherit; }

h2 tt, h2 code {
  font-size: inherit; }

h3 tt, h3 code {
  font-size: inherit; }

h4 tt, h4 code {
  font-size: inherit; }

h5 tt, h5 code {
  font-size: inherit; }

h6 tt, h6 code {
  font-size: inherit; }

h1 {
  font-size: 28px;
  color: black; }

h2 {
  font-size: 24px;
  border-bottom: 1px solid #cccccc;
  color: black; }

h3 {
  font-size: 18px; }

h4 {
  font-size: 16px; }

h5 {
  font-size: 14px; }

h6 {
  color: #777777;
  font-size: 14px; }

p, blockquote, ul, ol, dl, li, table, pre {
  margin: 15px 0; }

hr {
  background: transparent url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAECAYAAACtBE5DAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OENDRjNBN0E2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OENDRjNBN0I2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4Q0NGM0E3ODY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4Q0NGM0E3OTY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqqezsUAAAAfSURBVHjaYmRABcYwBiM2QSA4y4hNEKYDQxAEAAIMAHNGAzhkPOlYAAAAAElFTkSuQmCC) repeat-x 0 0;
  border: 0 none;
  color: #cccccc;
  height: 4px;
  padding: 0;
}

body > h2:first-child {
  margin-top: 0;
  padding-top: 0; }
body > h1:first-child {
  margin-top: 0;
  padding-top: 0; }
  body > h1:first-child + h2 {
    margin-top: 0;
    padding-top: 0; }
body > h3:first-child, body > h4:first-child, body > h5:first-child, body > h6:first-child {
  margin-top: 0;
  padding-top: 0; }

a:first-child h1, a:first-child h2, a:first-child h3, a:first-child h4, a:first-child h5, a:first-child h6 {
  margin-top: 0;
  padding-top: 0; }

h1 p, h2 p, h3 p, h4 p, h5 p, h6 p {
  margin-top: 0; }

li p.first {
  display: inline-block; }
li {
  margin: 0; }
ul, ol {
  padding-left: 30px; }

ul :first-child, ol :first-child {
  margin-top: 0; }

dl {
  padding: 0; }
  dl dt {
    font-size: 14px;
    font-weight: bold;
    font-style: italic;
    padding: 0;
    margin: 15px 0 5px; }
    dl dt:first-child {
      padding: 0; }
    dl dt > :first-child {
      margin-top: 0; }
    dl dt > :last-child {
      margin-bottom: 0; }
  dl dd {
    margin: 0 0 15px;
    padding: 0 15px; }
    dl dd > :first-child {
      margin-top: 0; }
    dl dd > :last-child {
      margin-bottom: 0; }

blockquote {
  border-left: 4px solid #dddddd;
  padding: 0 15px;
  color: #777777; }
  blockquote > :first-child {
    margin-top: 0; }
  blockquote > :last-child {
    margin-bottom: 0; }

table {
  padding: 0;border-collapse: collapse; }
  table tr {
    border-top: 1px solid #cccccc;
    background-color: white;
    margin: 0;
    padding: 0; }
    table tr:nth-child(2n) {
      background-color: #f8f8f8; }
    table tr th {
      font-weight: bold;
      border: 1px solid #cccccc;
      margin: 0;
      padding: 6px 13px; }
    table tr td {
      border: 1px solid #cccccc;
      margin: 0;
      padding: 6px 13px; }
    table tr th :first-child, table tr td :first-child {
      margin-top: 0; }
    table tr th :last-child, table tr td :last-child {
      margin-bottom: 0; }

img {
  max-width: 100%; }

span.frame {
  display: block;
  overflow: hidden; }
  span.frame > span {
    border: 1px solid #dddddd;
    display: block;
    float: left;
    overflow: hidden;
    margin: 13px 0 0;
    padding: 7px;
    width: auto; }
  span.frame span img {
    display: block;
    float: left; }
  span.frame span span {
    clear: both;
    color: #333333;
    display: block;
    padding: 5px 0 0; }
span.align-center {
  display: block;
  overflow: hidden;
  clear: both; }
  span.align-center > span {
    display: block;
    overflow: hidden;
    margin: 13px auto 0;
    text-align: center; }
  span.align-center span img {
    margin: 0 auto;
    text-align: center; }
span.align-right {
  display: block;
  overflow: hidden;
  clear: both; }
  span.align-right > span {
    display: block;
    overflow: hidden;
    margin: 13px 0 0;
    text-align: right; }
  span.align-right span img {
    margin: 0;
    text-align: right; }
span.float-left {
  display: block;
  margin-right: 13px;
  overflow: hidden;
  float: left; }
  span.float-left span {
    margin: 13px 0 0; }
span.float-right {
  display: block;
  margin-left: 13px;
  overflow: hidden;
  float: right; }
  span.float-right > span {
    display: block;
    overflow: hidden;
    margin: 13px auto 0;
    text-align: right; }

code, tt {
  margin: 0 2px;
  padding: 0 5px;
  white-space: nowrap;
  border: 1px solid #eaeaea;
  background-color: #f8f8f8;
  border-radius: 3px; }

pre code {
  margin: 0;
  padding: 0;
  white-space: pre;
  border: none;
  background: transparent; }

.highlight pre {
  background-color: #f8f8f8;
  border: 1px solid #cccccc;
  font-size: 13px;
  line-height: 19px;
  overflow: auto;
  padding: 6px 10px;
  border-radius: 3px; }

pre {
  background-color: #f8f8f8;
  border: 1px solid #cccccc;
  font-size: 13px;
  line-height: 19px;
  overflow: auto;
  padding: 6px 10px;
  border-radius: 3px; }
  pre code, pre tt {
    background-color: transparent;
    border: none; }

sup {
    font-size: 0.83em;
    vertical-align: super;
    line-height: 0;
}
* {
	-webkit-print-color-adjust: exact;
}
@media screen and (min-width: 914px) {
    body {
        width: 854px;
        margin:0 auto;
    }
}
@media print {
	table, pre {
		page-break-inside: avoid;
	}
	pre {
		word-wrap: break-word;
	}
}
</style>
<style type="text/css">
/**
 * prism.js default theme for JavaScript, CSS and HTML
 * Based on dabblet (http://dabblet.com)
 * @author Lea Verou
 */

code[class*="language-"],
pre[class*="language-"] {
	color: black;
	text-shadow: 0 1px white;
	font-family: Consolas, Monaco, 'Andale Mono', monospace;
	direction: ltr;
	text-align: left;
	white-space: pre;
	word-spacing: normal;
	word-break: normal;
	line-height: 1.5;

	-moz-tab-size: 4;
	-o-tab-size: 4;
	tab-size: 4;

	-webkit-hyphens: none;
	-moz-hyphens: none;
	-ms-hyphens: none;
	hyphens: none;
}

pre[class*="language-"]::-moz-selection, pre[class*="language-"] ::-moz-selection,
code[class*="language-"]::-moz-selection, code[class*="language-"] ::-moz-selection {
	text-shadow: none;
	background: #b3d4fc;
}

pre[class*="language-"]::selection, pre[class*="language-"] ::selection,
code[class*="language-"]::selection, code[class*="language-"] ::selection {
	text-shadow: none;
	background: #b3d4fc;
}

@media print {
	code[class*="language-"],
	pre[class*="language-"] {
		text-shadow: none;
	}
}

/* Code blocks */
pre[class*="language-"] {
	padding: 1em;
	margin: .5em 0;
	overflow: auto;
}

:not(pre) > code[class*="language-"],
pre[class*="language-"] {
	background: #f5f2f0;
}

/* Inline code */
:not(pre) > code[class*="language-"] {
	padding: .1em;
	border-radius: .3em;
}

.token.comment,
.token.prolog,
.token.doctype,
.token.cdata {
	color: slategray;
}

.token.punctuation {
	color: #999;
}

.namespace {
	opacity: .7;
}

.token.property,
.token.tag,
.token.boolean,
.token.number,
.token.constant,
.token.symbol {
	color: #905;
}

.token.selector,
.token.attr-name,
.token.string,
.token.char,
.token.builtin {
	color: #690;
}

.token.operator,
.token.entity,
.token.url,
.language-css .token.string,
.style .token.string,
.token.variable {
	color: #a67f59;
	background: hsla(0, 0%, 100%, .5);
}

.token.atrule,
.token.attr-value,
.token.keyword {
	color: #07a;
}

.token.function {
	color: #DD4A68;
}

.token.regex,
.token.important {
	color: #e90;
}

.token.important {
	font-weight: bold;
}

.token.entity {
	cursor: help;

</style>
</head>
<body>
<h1 id="toc_0">Bioe 421/521: Microcontroller Applications</h1>

<h4 id="toc_1">Instructor: Jordan Miller<br>TA: Dan Sazer<br>github.com/jmil/Bioe421_521-MicrocontrollerApplications</h4>

<h2 id="toc_2">Lab 6D. The Circuit Playground</h2>

<p>The Arduino is a beloved device because it&#39;s incredibly versatile -- in previous years of this class we used the DangerShield which lets you use those unused pins all over the Arduino Uno board. If you&#39;re interested in DangerShield you can read more in the <code>Attachments</code> folder of this lab repository and ask your instructor to see an assembled board:<br>
<a href="https://www.sparkfun.com/products/11649">https://www.sparkfun.com/products/11649</a><br>
<a href="https://github.com/sparkfun/DangerShield">https://github.com/sparkfun/DangerShield</a></p>

<p>But there&#39;s a new Arduino-compatible board in town, the Circuit Playground made by Adafruit!</p>

<p><u>Adafruit&#39;s Circuit Playground:</u><br>
<img src="circuit_playground.jpg" alt="circuit"></p>

<p>It&#39;s so purty! But, you ask, what&#39;s all that neato stuff all over the board?!?!?! From <a href="Adafruit.com">Adafruit.com</a>:<br>
<a href="http://www.adafruit.com/products/3000">http://www.adafruit.com/products/3000</a></p>

<blockquote>
<p>Would you like to learn electronics, with an all-in-one board that has sensors and LEDs built in? Circuit Playground is here - and it&#39;s the best way to practice programming on real hardware with no soldering or sewing required!</p>

<p>Circuit Playground features an ATmega32u4 processor, just like our popular Flora. The board&#39;s also round and has alligator-clip pads around it so you don&#39;t have to solder or sew to make it work. You can power it from USB, a AAA battery pack, or with a Lipoly battery (for advanced users). Just program your code into the board then take it on the go!</p>

<p>• ATmega32u4 Processor, running at 3.3V and 8MHz<br>
• MicroUSB port for programming and debugging with Arduino IDE<br>
• USB port can act like serial port, keyboard, mouse, joystick or MIDI</p>

<p>Circuit Playground has built-in USB support. Built in USB means you plug it in to program it and it just shows up.  All you really need is a Micro-B data/sync USB cable - not included! With the new 1.6.4+ Arduino IDE, it takes only a few seconds to add support. The Circuit Playground has USB HID support, so it can act like a mouse or keyboard and attach directly to computers.</p>

<p>Circuit Playground now works with Codebender as well!</p>

<p>Here&#39;s some of the great goodies baked in:</p>

<p>• 10 x mini NeoPixels, each one can display any color<br>
• 1 x Motion sensor (LIS3DH triple-axis accelerometer with tap detection, free-fall detection)<br>
• 1 x Temperature sensor (thermistor)<br>
• 1 x Light sensor (phototransistor)<br>
• 1 x Sound sensor (MEMS microphone)<br>
• 1 x Mini speaker (magnetic buzzer)<br>
• 2 x Push buttons, left and right<br>
• 1 x Slide switch<br>
• 8 x alligator-clip friendly input/output pins<br>
• Includes I2C, UART, and 4 pins that can do analog inputs/PWM output<br>
• All 8 pads can act as capacitive touch inputs<br>
• Green <q>ON</q> LED so you know its powered<br>
• Red <q>#13</q> LED for basic blinking<br>
• Reset button</p>

<p>We&#39;ve started out with a Developer Edition of Circuit Playground. This version is designed for people who have a little experience with Arduino already, who want to help build &amp; document projects. There might be minor hardware or software bugs. Once we feel like the design is really solid we&#39;ll revise/re-release it into a universal edition for anyone to use!</p>
</blockquote>

<p>Wow, that&#39;s a lot of stuff! Let&#39;s get setup to connect and program your Circuit Playground using Raspberry Pi.</p>

<h3 id="toc_3">Install the latest Arduino</h3>

<ol>
<li><p>To program the Circuit Playground, we just load another Arduino sketch. Yay! But first we have to give <code>arduino</code> the proper library files so it can understand Circuit Playground. This is easiest to do in the latest version of <code>arduino</code>, which is not yet part of the lastest build of Raspbian OS. Let&#39;s first uninstall the default <code>arduino</code> environment and then manually grab and install a later version:</p>

<pre><code>$ sudo apt-get remove arduino
$ cd ~/Downloads
$ wget https://downloads.arduino.cc/arduino-1.6.11-linuxarm.tar.xz
$ tar -xvf arduino-1.6.11-linuxarm.tar.xz
$ ls -la
$ cd arduino-1.6.11
$ sudo ./install.sh
</code></pre>

<p>When you call <code>sudo ./install.sh</code>, which program is actually used to process the <code>install.sh</code> file? How do you know?</p>

<pre><code>program:
explanation:
</code></pre></li>
<li><p>Connect your Circuit Playground to your Raspberry Pi with the included micro USB cable. It should light up with the default sketch. But we still need to configure your Raspberry Pi to program it!</p></li>
<li><p>Launch the Arduino IDE (Recall: <code>Start Menu</code> -&gt; <code>Programming</code> -&gt; <code>Arduino IDE</code>). What version of <code>arduino</code> are you running? Show your instructor:</p>

<pre><code>:
</code></pre></li>
</ol>

<h3 id="toc_4">Configure Arduino IDE for Circuit Playground</h3>

<ol>
<li><p>We need to tell the Arduino IDE about the Circuit Playground. Hat-tip: <a href="https://learn.adafruit.com/add-boards-arduino-v164/setup">https://learn.adafruit.com/add-boards-arduino-v164/setup</a></p>

<p>Open <code>File</code> -&gt; <code>Preferences</code> and very carefully type the following URL into the <code>Additional Boards Manager URLs:</code> field:</p>

<pre><code>https://adafruit.github.io/arduino-board-index/package_adafruit_index.json 
</code></pre>

<p>It should look like this:</p>

<p><strong>Additional Boards Manager URL:</strong><br>
<img src="Prefs-BoardManagerURL.png" alt="Boards Search Result"></p>

<p>Click <code>&lt;OK&gt;</code>.</p></li>
<li><p>Now, open <code>Tools</code> -&gt; <code>Board:...</code> -&gt; <code>Boards Manger...</code></p></li>
<li><p>In the search field at the top, type <code>adafruit</code>. Install the latest version of <code>Adafruit AVR Boards</code> as shown in the following screenshots.</p>

<p><strong><q>adafruit</q> boards search result:</strong><br>
<img src="BoardsManager-Search.png" alt="Boards Search Result"></p>

<p><strong><q>Adafruit AVR Boards</q> installing:</strong><br>
<img src="BoardsManager-Install.png" alt="Boards Search Result"></p>

<p><strong><q>Adafruit AVR Boards</q> installation completed:</strong><br>
<img src="BoardsManager-Installed.png" alt="Boards Search Result"></p></li>
<li><p>After successful installation, make sure you have all the Adafruit Boards listed under <code>Tools</code> -&gt; <code>Board:...</code>. Select <code>Adafruit Circuit Playground</code>.</p>

<p><strong><q>Adafruit Circuit Playground</q> board selected:</strong><br>
<img src="Adafruit-Boards.png" alt="Boards Search Result"></p></li>
<li><p>Now we need to install the Circuit Playground Library files. We will follow a similar workflow as above.</p></li>
<li><p>In the Arduino IDE, navigate to <code>Sketch</code> -&gt; <code>Include Library</code> -&gt; <code>Manage Libraries...</code>. Search for <code>circuit</code>, and install the latest version of <code>Adafruit Circuit Playground</code>.</p>

<p><strong>Search for <q>circuit</q> in the Library Manager:</strong><br>
<img src="LibraryManager-Search.png" alt="Boards Search Result"></p>

<p><strong>Installing <q>Adafruit AVR Boards</q>:</strong><br>
<img src="LibraryManager-Install.png" alt="Boards Search Result"></p>

<p><strong>Library installation successful:</strong><br>
<img src="LibraryManager-Installed.png" alt="Boards Search Result"></p></li>
<li><p>Check that it was installed correctly. You should see a new entry under <code>Sketch</code> -&gt; <code>Include Library</code> -&gt; <code>Adafruit Circuit Playground</code> (down under the <code>Recommended libraries</code> heading).</p>

<p><strong><q>Adafruit Circuit Playground</q> library is available:</strong><br>
<img src="LibraryMenu-Available.png" alt="Boards Search Result"></p></li>
<li><p>Also install the <code>Adafruit SleepyDog Library</code> using the same procedure as above (simply search the Library Manager for <code>sleepy</code>). You will use this library later. Was it installed correctly? How do you know?</p>

<pre><code>: 
</code></pre></li>
<li><p>Phew. Ok, now we need to download a bunch of sample programs your Instructor has pulled together from various official and unofficial sources. In a terminal, let&#39;s grab the code using <code>git</code>:</p>

<pre><code>$ mkdir -p ~/github
$ cd ~/github
$ which git
$ git clone https://github.com/jmil/Adafruit_CircuitPlayground.git
$ ls -la
$ cd Adafruit_CircuitPlayground
$ ls -la
</code></pre></li>
</ol>

<h3 id="toc_5">Learn with Circuit Playground Sketches</h3>

<p>A Circuit Playground sketch will generally call the <code>Adafruit_CircuitPlayground.h</code> file (using <code>#include</code>) which allows the sketch to access the functions optimized for this board. The simplest one is <code>CircuitPlayground.begin();</code> which is typically seen in the <code>setup()</code> function. Work with your lab partner to explain each line of the following source code for <code>Hello_Blink.ino</code>:</p>

<pre><code>#include &lt;Adafruit_CircuitPlayground.h&gt;

void setup() {
  CircuitPlayground.begin();
}

void loop() {
  CircuitPlayground.redLED(HIGH);
  delay(500);
  CircuitPlayground.redLED(LOW);
  delay(500);
}
</code></pre>

<p>To upload to Circuit Playground, first <strong>make sure</strong> <code>Adafruit Circuit Playground</code> is selected under <code>Tools</code> -&gt; <code>Board</code>.</p>

<p>Next, <strong>make sure</strong> the correct port is selected under <code>Tools</code> -&gt; <code>Port</code>.</p>

<p>A successful compilation and upload will show in the Arduino IDE with the <q>Done uploading.</q> statement at the bottom left of the window:</p>

<p><strong>Successful Upload of <q>Hello_Blink.ino</q>:</strong><br>
<img src="Hello-Blink-Uploaded.png" alt="Boards Search Result"></p>

<h2 id="toc_6">Assignments</h2>

<p>Work from the <code>Hello_CircuitPlayground</code> folder in the <code>examples</code> folder of the <code>~/github/Adafruit_CircuitPlayground</code>. Open each <code>.ino</code> sketch, read the contents carefully with your lab partner, and compile and upload the sketch to your Circuit Playground.</p>

<h4 id="toc_7"><strong>BE SURE TO CHECK THE SERIAL MONITOR IN Arduino</strong> to read the live output of programs that do this. Did you find the Serial Monitor button?</h4>

<p>The following descriptions are courtesy of the <code>README.md</code> file in this folder.</p>

<p>A set of very basic example sketches to demonstrate the various components<br>
of the <a href="https://www.adafruit.com/products/3000">Circuit Playground</a>.<br>
These sketches were tested and verified with:</p>

<ul>
<li>Circuit Playground Developer Edition</li>
<li>Ubuntu 16.04 LTS</li>
<li>Arduino IDE 1.6.11</li>
<li>Adafruit AVR Boards 1.4.9</li>
<li>Adafruit Circuit Playground Library 1.6.1</li>
</ul>

<h3 id="toc_8">Hello_Blink</h3>

<p>Blinks the little red LED next to the micro USB connector once per second.</p>

<h3 id="toc_9">Hello_SlideSwitch</h3>

<p>The position (+ or -) of the slide switch is sent to the serial monitor once<br>
per second.</p>

<pre><code>Slide Switch: -
Slide Switch: +
Slide Switch: +
</code></pre>

<h3 id="toc_10">Hello_Buttons</h3>

<p>The position (UP or DOWN) of the two push buttons are sent to the serial<br>
monitor once per second.</p>

<pre><code>Left Button:   UP   Right Button:   UP
Left Button: DOWN   Right Button:   UP
Left Button:   UP   Right Button:   UP
Left Button:   UP   Right Button: DOWN
</code></pre>

<h3 id="toc_11">Hello_LightSensor</h3>

<p>The reading (0-1023) from the light sensor is sent to the serial monitor once<br>
per second.</p>

<pre><code>Light Sensor: 962
Light Sensor: 954
Light Sensor: 275
Light Sensor: 192
Light Sensor: 688
</code></pre>

<h3 id="toc_12">Hello_Temperature</h3>

<p>The temperature is sent to the serial monitor once per second.</p>

<pre><code>tempC: 28.25  tempF: 83.02
tempC: 29.71  tempF: 85.64
tempC: 30.72  tempF: 87.30
tempC: 31.85  tempF: 89.32
</code></pre>

<h3 id="toc_13">Hello_Accelerometer</h3>

<p>The readings (in m/s<sup>2</sup>) from the 3 axes of the accelerometer are sent<br>
to the serial monitor once per second. (1G ~= 9.8 m/s<sup>2</sup>)</p>

<pre><code>X: -0.33  Y: 2.41  Z: 9.40
X: -1.25  Y: 4.20  Z: 1.86
X: -7.95  Y: -3.50  Z: -2.47
X: 0.11  Y: -8.38  Z: 2.25
X: -2.28  Y: 2.73  Z: 9.10
</code></pre>

<h3 id="toc_14">Hello_SoundSensor</h3>

<p>The reading (0-1023) from the sound sensor (microphone) is sent to the serial<br>
monitor once per second.</p>

<pre><code>Sound Sensor: 339
Sound Sensor: 339
Sound Sensor: 1023
Sound Sensor: 10
Sound Sensor: 15
Sound Sensor: 1023
Sound Sensor: 336
</code></pre>

<h3 id="toc_15">Hello_Speaker</h3>

<p>Plays a 500Hz tone for 0.1 seconds on the speaker, followed by 1 second of<br>
silence.</p>

<h3 id="toc_16">Hello_NeoPixels</h3>

<p>Clears all pixels for 0.5 seconds then displays colors on the fist 5 pixels<br>
using individual 8-bit values and the same colors on the next 5 pixels using<br>
24-bit values. After 5 seconds, this repeats.</p>

<h2 id="toc_17">Turn in Homework</h2>

<ol>
<li><p>Zip up the folder for the files from Today&#39;s lab to make a single .zip file. <strong>DON&#39;T</strong> include your ~/github folder.</p>

<pre><code>$ zip -r Team09-LambdaFTW_Lab06.zip Team09-LambdaFTW_Lab06
</code></pre></li>
<li><p><code>scp</code> your team&#39;s homework .zip file to your Instructor&#39;s RaspberryPi. Your Instructor will provide you with the value to enter for <strong>IP_ADDRESS</strong>. Use your same <code>raspberry</code> password (note that you are logging in as user <code>student</code>):</p>

<pre><code>$ scp Team09-LambdaFTW_Lab06.zip student@IP_ADDRESS:/home/student/
</code></pre></li>
</ol>

<h2 id="toc_18">Shutdown Procedure</h2>

<ol>
<li><p>Shutdown your Pi properly:</p>

<pre><code>$ sudo shutdown -h now
</code></pre>

<p>Unplug everthing and restore the Windows desktop computer to a working state.</p></li>
</ol>

<h2 id="toc_19">APPENDIX</h2>

<h3 id="toc_20">Troubleshooting Circuit Playground</h3>

<p>During our work with Circuit Playground it may eventually get confused and stop being able to connect to a computer. Here&#39;s how to fix it:</p>

<h4 id="toc_21">Symptoms:</h4>

<ul>
<li><p>From: <a href="https://forums.adafruit.com/viewtopic.php?f=58&amp;t=102881">https://forums.adafruit.com/viewtopic.php?f=58&amp;t=102881</a><br>
<code>jfmclaugh</code> writes:</p>

<blockquote>
<p>Circuit Playground was working fine until recently- now all I get is a green light, and occasionally the red #13 pulses when I press reset. It won&#39;t install- I get USB Device Not Recognized. I&#39;m using a cable that worked OK before, still works fine on my smart phone. I reinstalled the drivers as well, no help. Please advise, thanks</p>
</blockquote></li>
<li><p>Another symptom is that you will no longer see Circuit Playground listed in the output from:</p>

<pre><code>$ dmesg | grep tty
</code></pre>

<p>Nor will Circuit Playground be available in the <code>Ports</code> menu item in the Arduino IDE.</p></li>
</ul>

<h4 id="toc_22">Solution</h4>

<ul>
<li><p><code>adafruit_support_mike</code> responds:</p>

<blockquote>
<p>Connect the Circuit Playground to your computer and open the demo sketch in the Arduino IDE. Select &#39;Circuit Playground&#39; under Tools-&gt;Board, and don&#39;t bother with Tools-&gt;Serial Port. From the Preferences pane, select verbose output during upload.</p>

<p>Click the Upload button, and wait for a series of lines that begin with &#39;PORTS&#39; to start scrolling past in the console pane.</p>

<p>Double-click the Circuit Playground&#39;s reset button at that point.</p>

<p>The ATmega32u4 handles USB communication within the chip, and sometimes the bootloader&#39;s USB code crashes. Double-clicking the reset button restarts the bootloader and forces it to set up a new USB connection exactly when the Arduino IDE is looking for a device to do that.</p>

<p>...</p>

<p>It&#39;s more of a design tradeoff than a bug.</p>

<p>The ATmega32u4 has 32k of Flash memory which is shared by the bootloader and the user code. The USB connection to upload firmware is controlled by the bootloader, and the more protocol checking and fallback code we add there, the less useful the board gets as a development platform.</p>

<p>As your students will learn, microcontroller programming is all about making tradeoffs with limited resources.</p>
</blockquote></li>
</ul>

<script type="text/javascript">
self="undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{};var Prism=function(){var e=/\blang(?:uage)?-(?!\*)(\w+)\b/i,t=self.Prism={util:{encode:function(e){return e instanceof n?new n(e.type,t.util.encode(e.content)):"Array"===t.util.type(e)?e.map(t.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).match(/\[object (\w+)\]/)[1]},clone:function(e){var n=t.util.type(e);switch(n){case"Object":var r={};for(var a in e)e.hasOwnProperty(a)&&(r[a]=t.util.clone(e[a]));return r;case"Array":return e.slice()}return e}},languages:{extend:function(e,n){var r=t.util.clone(t.languages[e]);for(var a in n)r[a]=n[a];return r},insertBefore:function(e,n,r,a){a=a||t.languages;var i=a[e],o={};for(var l in i)if(i.hasOwnProperty(l)){if(l==n)for(var s in r)r.hasOwnProperty(s)&&(o[s]=r[s]);o[l]=i[l]}return a[e]=o},DFS:function(e,n){for(var r in e)n.call(e,r,e[r]),"Object"===t.util.type(e)&&t.languages.DFS(e[r],n)}},highlightAll:function(e,n){for(var r,a=document.querySelectorAll('code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'),i=0;r=a[i++];)t.highlightElement(r,e===!0,n)},highlightElement:function(r,a,i){for(var o,l,s=r;s&&!e.test(s.className);)s=s.parentNode;if(s&&(o=(s.className.match(e)||[,""])[1],l=t.languages[o]),l){r.className=r.className.replace(e,"").replace(/\s+/g," ")+" language-"+o,s=r.parentNode,/pre/i.test(s.nodeName)&&(s.className=s.className.replace(e,"").replace(/\s+/g," ")+" language-"+o);var c=r.textContent;if(c){var g={element:r,language:o,grammar:l,code:c};if(t.hooks.run("before-highlight",g),a&&self.Worker){var u=new Worker(t.filename);u.onmessage=function(e){g.highlightedCode=n.stringify(JSON.parse(e.data),o),t.hooks.run("before-insert",g),g.element.innerHTML=g.highlightedCode,i&&i.call(g.element),t.hooks.run("after-highlight",g)},u.postMessage(JSON.stringify({language:g.language,code:g.code}))}else g.highlightedCode=t.highlight(g.code,g.grammar,g.language),t.hooks.run("before-insert",g),g.element.innerHTML=g.highlightedCode,i&&i.call(r),t.hooks.run("after-highlight",g)}}},highlight:function(e,r,a){var i=t.tokenize(e,r);return n.stringify(t.util.encode(i),a)},tokenize:function(e,n){var r=t.Token,a=[e],i=n.rest;if(i){for(var o in i)n[o]=i[o];delete n.rest}e:for(var o in n)if(n.hasOwnProperty(o)&&n[o]){var l=n[o];l="Array"===t.util.type(l)?l:[l];for(var s=0;s<l.length;++s){var c=l[s],g=c.inside,u=!!c.lookbehind,f=0;c=c.pattern||c;for(var h=0;h<a.length;h++){var d=a[h];if(a.length>e.length)break e;if(!(d instanceof r)){c.lastIndex=0;var p=c.exec(d);if(p){u&&(f=p[1].length);var m=p.index-1+f,p=p[0].slice(f),v=p.length,y=m+v,k=d.slice(0,m+1),b=d.slice(y+1),w=[h,1];k&&w.push(k);var N=new r(o,g?t.tokenize(p,g):p);w.push(N),b&&w.push(b),Array.prototype.splice.apply(a,w)}}}}}return a},hooks:{all:{},add:function(e,n){var r=t.hooks.all;r[e]=r[e]||[],r[e].push(n)},run:function(e,n){var r=t.hooks.all[e];if(r&&r.length)for(var a,i=0;a=r[i++];)a(n)}}},n=t.Token=function(e,t){this.type=e,this.content=t};if(n.stringify=function(e,r,a){if("string"==typeof e)return e;if("[object Array]"==Object.prototype.toString.call(e))return e.map(function(t){return n.stringify(t,r,e)}).join("");var i={type:e.type,content:n.stringify(e.content,r,a),tag:"span",classes:["token",e.type],attributes:{},language:r,parent:a};"comment"==i.type&&(i.attributes.spellcheck="true"),t.hooks.run("wrap",i);var o="";for(var l in i.attributes)o+=l+'="'+(i.attributes[l]||"")+'"';return"<"+i.tag+' class="'+i.classes.join(" ")+'" '+o+">"+i.content+"</"+i.tag+">"},!self.document)return self.addEventListener?(self.addEventListener("message",function(e){var n=JSON.parse(e.data),r=n.language,a=n.code;self.postMessage(JSON.stringify(t.tokenize(a,t.languages[r]))),self.close()},!1),self.Prism):self.Prism;var r=document.getElementsByTagName("script");return r=r[r.length-1],r&&(t.filename=r.src,document.addEventListener&&!r.hasAttribute("data-manual")&&document.addEventListener("DOMContentLoaded",t.highlightAll)),self.Prism}();"undefined"!=typeof module&&module.exports&&(module.exports=Prism);
</script>
<script type="text/x-mathjax-config">
MathJax.Hub.Register.StartupHook('End', function () {
   MathJaxListener.invokeCallbackForKey_('End');
})
</script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"] ],
        processEscapes: true
    }
})
</script>
<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</body>

</html>
